
%
O01009 
(ELLIPSE MACRO NGC)

(---------OPTIMIZED FOR HAAS NEXT GEN CONTROL---------)

(THIS PROGRAM TAKES THREE INPUT VARIABLES AND RUNS A)
(SUBROUTINE THAT TRACES OUT AN ELLIPSE WITH THE DIMENSIONS)
(OUTLINED IN VARIABLES #10001 AND #10002. )
(TO ADJUST THE SIZE OF THE ELLIPSE, ADJUST THOSE VARS)
(#10003 IS THE "RESOLUTION" VARIABLE.)
(THE PROGRAM STEPS THROUGH VALUES FOR X AT #10003 INTERVALS)
(AND SOLVES FOR Y WITH EVERY INTERVAL)

#10001= 7.0 (MAJOR RADIUS 'A') 
#10002= 1. (MINOR RADIUS 'B') 
#10003= 0.01 (SEGMENT SIZE IN X) 

(CALCULATE CENTER OFFSETS FOR F1 AND F2, KNOWN AS 'C') 
#10004= SQRT[ [ #10001 * #10001 ] - [ #10002 * #10002 ] ] (C) 
#10005= 0 - #10004 (F1) 
#10006= 0 + #10004 (F2) 

(MOVE TO FAR RIGHT:) 
G54 G00 X0 Y0 (CENTER OF ELLIPSE) 
G00 X#10001 (FURTHEST RIGHT POINT, Y STAYS AT 0) 
G01 F100. 

#100010= #10001 
N100 
(RUN FUNCTION ITERATING PER #10003 SIZE) 
#10007= #10002 / #10001 (B/A) 
#10008= #10010 (X-H) 
#10009= SQRT[ [ #10001 * #10001 ] - [ #10008 * #10008 ] ] 
#10011= #10007 * #10009 
G01 X#10010 Y#10011 
#10010= #10010 - #10003 
IF [ #10010 GE [ 0 - #10001 + #10003 ] ] GOTO100 

N200
(BACK THE OTHER WAY) 
#10007= #10002 / #10001 (B/A) 
#10008= #10010 (X-H) 
#10009= SQRT[ [ #10001 * #10001 ] - [ #10008 * #10008 ] ] 
#10011= #10007 * #10009 
G01 X#10010 Y[0 - #10011] 
#10010= #10010 + #10003 
IF [ #10010 LE [ #10001 - #10003 ] ] GOTO200 


(#10010 = CURRENT X) 
(#10011 = CURRENT Y) 
%
